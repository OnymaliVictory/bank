<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard | StarBank</title>

<link rel="stylesheet" href="../assets/css/dashboard.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<style>
/* ===== QUICK DASHBOARD GRID ===== */
.quick-actions{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
  gap:20px;
  margin-top:30px;
}

.action-card{
  background:linear-gradient(135deg,#102a5e,#0b1c3d);
  color:#fff;
  padding:35px 20px;
  border-radius:22px;
  text-align:center;
  font-size:18px;
  font-weight:600;
  cursor:pointer;
  transition:.3s;
}

.action-card:hover{
  transform:translateY(-5px);
  background:linear-gradient(135deg,#0b1c3d,#081a3a);
}

/* ===== DARK MODE ===== */
body.dark{
  background:#0b1c3d;
  color:#fff;
}

body.dark .profile-card,
body.dark .stat-card,
body.dark .action-card{
  background:#142d5c;
  color:#fff;
}

.dark-toggle{
  display:flex;
  align-items:center;
  gap:10px;
  cursor:pointer;
  font-size:14px;
}
</style>
</head>

<body>

<!-- MOBILE HEADER -->
<div class="mobile-header">
  <div class="hamburger" id="openSidebar">â˜°</div>
  <strong>StarBank</strong>
</div>

<div class="sidebar-overlay" id="sidebarOverlay"></div>

<div class="dashboard-container">

  <!-- SIDEBAR -->
  <div class="sidebar" id="sidebar">
    <h2>Star<span>Bank</span></h2>

    <a href="index.html">Dashboard</a>
    <a href="transfer.html">Transfer</a>
    <a href="transactions.html">Transactions</a>
    <a href="profile.html">Profile</a>

    <div style="margin:20px">
      <div class="dark-toggle" id="darkToggle">
        ðŸŒ™ <span>Dark Mode</span>
      </div>
    </div>

    <button class="logout-btn" id="logoutBtn">Logout</button>
  </div>

  <!-- MAIN CONTENT -->
  <div class="main-content">

    <h1>Welcome, <span id="userName">Loading...</span></h1>

    <!-- USER INFO (IDs PRESERVED) -->
    <div class="profile-card" id="profileInfo">
      Loading profileâ€¦
    </div>

    <div class="stat-card" id="balanceCard">
      Balance: $0
    </div>

    <!-- QUICK ACTION BUTTONS -->
    <div class="quick-actions">

      <div class="action-card" onclick="location.href='index.html'">
        ðŸ“Š Dashboard
      </div>

      <div class="action-card" onclick="location.href='transfer.html'">
        ðŸ’¸ Transfer
      </div>

      <div class="action-card" onclick="location.href='transactions.html'">
        ðŸ“œ Transactions
      </div>

      <div class="action-card" onclick="location.href='profile.html'">
        ðŸ‘¤ Profile
      </div>

    </div>

  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="../assets/js/dashboard.js"></script>

<script>
/* ===== SIDEBAR TOGGLE ===== */
const sidebar = document.getElementById("sidebar");
const overlay = document.getElementById("sidebarOverlay");
const openBtn = document.getElementById("openSidebar");

if(openBtn){
  openBtn.onclick = () => {
    sidebar.classList.add("active");
    overlay.style.display = "block";
  };
}

overlay.onclick = () => {
  sidebar.classList.remove("active");
  overlay.style.display = "none";
};

/* ===== DARK MODE TOGGLE ===== */
const darkToggle = document.getElementById("darkToggle");
if(darkToggle){
  darkToggle.onclick = () => {
    document.body.classList.toggle("dark");
    localStorage.setItem(
      "darkMode",
      document.body.classList.contains("dark")
    );
  };
}

/* ===== PERSIST DARK MODE ===== */
if(localStorage.getItem("darkMode") === "true"){
  document.body.classList.add("dark");
}
</script>

</body>
</html>
